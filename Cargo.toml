[package]
name = "yellowstone-jet"
version = "12.1.0"
authors = ["Triton One"]
edition = "2021"
description = "Yellowstone Jet"
license = "Apache-2.0"
resolver = "2"
publish = false

[dependencies]
anyhow = "1.0.97"
async-trait = "0.1.83"
base64 = "0.22.0"
bincode = "1.3.3"
bs58 = "0.5.1"
borsh = "1.5.1"
bytes = "1.10.0"
clap = { version = "4.5.2", features = ["cargo", "derive", "env"] }
derivative = "2.2.0"
etcd-client = "0.14.0"
futures = "0.3.30"
hostname = "0.4.0"
humantime-serde = "1.1.1"
hyper = "1.5.0"
jsonrpsee = { version = "0.24.7", features = [
    "http-client",
    "macros",
    "server",
] }
lazy_static = "1.4.0"
lru = "0.12.3"
maplit = "1.0.2"
pin-project = "1.1.5"
prometheus = "0.13.3"
prost = "0.13.3"
prost-types = "0.13.3"
quinn = "0.11.6"
quinn-proto = "0.11.6"
rand = "0.8.5"
rustls = { version = "0.23.15", default-features = false }
semver = "1.0.22"
serde = "1.0.215"
serde_json = "1.0.116"
serde_yaml = "0.9.25"
# Agave Crates
solana-client = "~2.2.1"
solana-connection-cache = "~2.2.1"
solana-net-utils = "~2.2.1"
solana-quic-client = "~2.2.1"
solana-rpc-client-api = "~2.2.1"
solana-streamer = "~2.2.1"
solana-tpu-client = "~2.2.1"
solana-version = "~2.2.1"
solana-rpc-client = "~2.2.1"
solana-transaction-status-client-types = "~2.2.1"
solana-system-interface = "~1.0.0"
solana-bincode = "~2.2.1"
solana-tls-utils = "~2.2.1"
# --> Anza - Solana SDK (decoupled from agave)
# See: https://github.com/anza-xyz/solana-sdk
solana-instruction = "~2.2.1"
solana-pubkey = "~2.2.1"
solana-keypair = "~2.2.1"
solana-account = "~2.2.1"
solana-clock = "~2.2.1"
solana-hash = "~2.2.1"
solana-epoch-schedule = "~2.2.1"
solana-quic-definitions = "~2.2.1"
solana-signature = "~2.2.1"
solana-signer = "~2.2.1"
solana-transaction = "~2.2.1"
solana-epoch-info = "~2.2.1"
solana-commitment-config = "~2.2.1"
solana-transaction-error = "~2.2.1"
solana-message = "~2.2.1"
solana-compute-budget-interface = "~2.2.1"
solana-native-token = "~2.2.1"
solana-nonce = "~2.2.1"
solana-packet = "~2.2.1"
# End of Solana SDK Crates
yellowstone-shield-store = { git = "https://github.com/rpcpool/yellowstone-shield.git", branch = "update-solana-sdk" }
thiserror = "1.0.58"
tokio = { version = "1.36.0", features = ["rt-multi-thread", "macros"] }
tokio-stream = "0.1.15"
tonic = { version = "0.12.3", features = ["tls-native-roots"] }
tonic-health = "0.12.3"
tower = "0.4.13"
tracing = "0.1.40"
tracing-subscriber = { version = "0.3.1", features = [
    "ansi",
    "env-filter",
    "json",
] }
uuid = { version = "1.11.0", features = ["v4", "serde"] }
yellowstone-grpc-client = "7.0.0"
yellowstone-grpc-proto = "7.0.0"
reqwest = { version = "0.12.15", features = ["json"] }
retry = "2.0.0"
# TEMPORARY
yellowstone-vixen = "0.2.0"

[build-dependencies]
anyhow = "1.0.69"
cargo-lock = "10.0.1"
git-version = "0.3.9"
protobuf-src = "1.1.0"
tonic-build = "0.12.3"
vergen = { version = "9.0.1", features = ["build", "rustc"] }

[[bin]]
name = "jet-lewis-dummy-server"
path = "src/bin/jet_lewis_dummy_server.rs"

[[bin]]
name = "jet-lewis-dummy-client"
path = "src/bin/jet_lewis_dummy_client.rs"

[lints.clippy]
clone_on_ref_ptr = "deny"
missing_const_for_fn = "deny"
trivially_copy_pass_by_ref = "deny"

[profile.release]
codegen-units = 1
lto = true

[patch.crates-io]
solana-account-decoder = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-rpc-client = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-rpc-client-api = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-transaction-status = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-account-decoder-client-types = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-client = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-connection-cache = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-net-utils = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-quic-client = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-streamer = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-tpu-client = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-version = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-transaction-context = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }
solana-transaction-status-client-types = { git = "https://github.com/rpcpool/solana-public.git", tag = "v2.2.19-triton-public" }

yellowstone-shield-store = { git = "https://github.com/rpcpool/yellowstone-shield.git", branch = "update-solana-sdk" }
